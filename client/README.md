# Telegram Mini App ‚Äî –ö–∞—Ä–∫–∞—Å (React + Vite + TypeScript) üéØ

–ì–æ—Ç–æ–≤—ã–π —à–∞–±–ª–æ–Ω –º–∏–Ω–∏‚Äë–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Telegram, —á—Ç–æ–±—ã –±—ã—Å—Ç—Ä–æ ¬´–≤—Å—É–Ω—É—Ç—å¬ª –ª–æ–≥–∏–∫—É –∏–∑ –¢–ó –ø–æ–∑–∂–µ.

## –ß—Ç–æ –≤–Ω—É—Ç—Ä–∏
- React + TypeScript + Vite
- React Router (HashRouter ‚Äî –±–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞)
- –û–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ Telegram WebApp API, —Ö—É–∫ `useTelegram`
- –†–µ–∞–∫—Ü–∏—è –Ω–∞ —Ç–µ–º—É/—Ü–≤–µ—Ç–∞ Telegram + CSS‚Äë–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
- –ü—Ä–∏–º–µ—Ä—ã Main/Back/Settings –∫–Ω–æ–ø–æ–∫, Haptic, —Å–æ–±—ã—Ç–∏—è `themeChanged`
- –ß—Ç–µ–Ω–∏–µ `start_param` –∏ `initDataUnsafe`
- –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π `api.ts` –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ —Å `initData` (–¥–ª—è –±—ç–∫–µ–Ω–¥‚Äë–≤–∞–ª–∏–¥–∞—Ü–∏–∏)
- –ú–∏–Ω–∏ –±—ç–∫–µ–Ω–¥ (Express) —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø–æ–¥–ø–∏—Å–∏ initData (—Å–º. `/server`)

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
1. –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∫–ª–∏–µ–Ω—Ç–∞:
   ```bash
   cd client
   npm i
   cp .env.example .env  # –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
   npm run dev
   ```

2. –ë—ç–∫–µ–Ω–¥ (–≤–∞–ª–∏–¥–∞—Ü–∏—è initData):
   ```bash
   cd ../server
   npm i
   cp .env.example .env
   # –ó–∞–ø–æ–ª–Ω–∏ BOT_TOKEN –∏–∑ @BotFather
   npm run dev
   ```

3. –°–≤—è–∂–∏ —Ñ—Ä–æ–Ω—Ç –∏ –±—ç–∫–µ–Ω–¥:
   - –í `client/.env` —É–∫–∞–∂–∏ `VITE_BACKEND_URL=http://localhost:8787` (–∏–ª–∏ —Å–≤–æ–π —Ö–æ—Å—Ç).
   - –î–ª—è –∑–∞–ø—É—Å–∫–∞ –≤–Ω—É—Ç—Ä–∏ Telegram –∏—Å–ø–æ–ª—å–∑—É–π **https** –∏ –ø—É–±–ª–∏—á–Ω—ã–π –¥–æ–º–µ–Ω.

## –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤ Telegram
- –í HTML —É–∂–µ –ø–æ–¥–∫–ª—é—á–µ–Ω —Å–∫—Ä–∏–ø—Ç `telegram-web-app.js`.
- –°–æ–∑–¥–∞–π –±–æ—Ç–∞ –≤ @BotFather ‚Üí —É–∫–∞–∂–∏ Web App URL (–º–µ–Ω—é **Bot Settings ‚Üí Configure Mini App** –∏–ª–∏ —á–µ—Ä–µ–∑ `/setmenubutton`).
- –î–ª—è inline‚Äë–∫–Ω–æ–ø–æ–∫ –∏—Å–ø–æ–ª—å–∑—É–π —Ç–∏–ø `web_app`.
- –î–ª—è –ø—Ä—è–º–æ–π —Å—Å—ã–ª–∫–∏: `https://t.me/<bot>?startapp=<param>` ‚Äî –ø–∞—Ä–∞–º–µ—Ç—Ä –ø–æ–ø–∞–¥—ë—Ç –≤ `start_param`.

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–≤–∞–∂–Ω–æ)
- –ù–∞ —Å–µ—Ä–≤–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–π **—Ç–æ–ª—å–∫–æ** `Telegram.WebApp.initData` (—Å—ã—Ä–æ–π query string), –∞ –Ω–µ `initDataUnsafe`.
- –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –ø—Ä–æ–≤–µ—Ä—è–π –ø–æ–¥–ø–∏—Å—å –ø–æ –∞–ª–≥–æ—Ä–∏—Ç–º—É Telegram (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ `/server/validateInitData.js`).

–ü–æ–ª–µ–∑–Ω—ã–µ –ø–æ–ª—è:
- `tg.initDataUnsafe.user` ‚Äî –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `tg.initData` ‚Äî —Å—Ç—Ä–æ–∫–∞ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –Ω–∞ –±—ç–∫–µ–Ω–¥–µ
- `tg.themeParams` –∏ CSS‚Äë–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (`--tg-*`) ‚Äî –¥–ª—è —Ç–µ–º–∏–∑–∞—Ü–∏–∏

–£–¥–∞—á–∏! üöÄ
